(this.webpackJsonpprat=this.webpackJsonpprat||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(22),o=n.n(r),i=(n(28),n(29),n(4)),u=n(1),s=a.a.createContext(void 0);function l(e){var t=e.children,n=Object(c.useRef)(void 0),a=Object(c.useRef)(void 0),r=Object(c.useState)(!1),o=Object(i.a)(r,2),l=o[0],v=o[1],d=Object(c.useState)(void 0),f=Object(i.a)(d,2),b=f[0],h=f[1],j=Object(c.useCallback)((function(){var e=n.current;e.width=window.innerWidth,e.height=window.innerHeight,a.current=e.getContext("2d"),a.current.lineCap="round",a.current.strokeStyle="black",a.current.lineWidth=3}),[]),g=Object(c.useCallback)((function(){window.addEventListener("resize",j),j()}),[j]),p=Object(c.useCallback)((function(){window.removeEventListener("resize",j)}),[j]),O=Object(c.useCallback)((function(e){var t,n,c=e.nativeEvent;c.touches&&c.touches[0]?(t=c.touches[0].pageX,n=c.touches[0].pageY):(t=c.pageX,n=c.pageY),a.current.beginPath(),a.current.moveTo(t,n),v(!0)}),[]),x=Object(c.useCallback)((function(){var e=n.current;a.current.closePath(),v(!1),h(a.current.getImageData(0,0,e.width,e.height))}),[]),w=Object(c.useCallback)((function(e){var t,n,c=e.nativeEvent;l&&(c.touches&&c.touches[0]?(t=c.touches[0].pageX,n=c.touches[0].pageY):(t=c.pageX,n=c.pageY),a.current.lineTo(t,n),a.current.stroke())}),[l]),C=Object(c.useCallback)((function(){var e=n.current;a.current.fillStyle="white",a.current.fillRect(0,0,e.width,e.height)}),[]);return Object(u.jsx)(s.Provider,{value:{canvasRef:n,canvasContextRef:a,initializeCanvas:g,uninitializeCanvas:p,mouseDown:O,mouseUp:x,mouseMove:w,clear:C,imageData:b},children:t})}function v(){return Object(c.useContext)(s)}function d(){var e=v(),t=e.canvasRef,n=e.initializeCanvas,a=e.uninitializeCanvas,r=e.mouseDown,o=e.mouseUp,i=e.mouseMove;return Object(c.useLayoutEffect)((function(){return n(),function(){return a()}}),[n,a]),Object(u.jsx)("canvas",{ref:t,id:"canvas",className:"canvas",onMouseDown:r,onTouchStart:r,onMouseUp:o,onTouchEnd:o,onTouchCancel:o,onMouseMove:i,onTouchMove:i})}var f=n(2),b=n.n(f),h=n(8),j=n(23),g=c.createContext(void 0);function p(e){var t=e.language,n=void 0===t?"eng":t,a=e.children,r=c.useState(void 0),o=Object(i.a)(r,2),s=o[0],l=o[1];return c.useEffect((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(void 0),t=Object(j.createWorker)({logger:function(e){return console.log(e)}}),e.next=4,t.load();case 4:return e.next=6,t.loadLanguage(n);case 6:return e.next=8,t.initialize(n);case 8:l(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(u.jsx)(g.Provider,{value:{worker:s},children:a})}function O(){var e=v(),t=e.imageBlob,n=e.canvasRef,a=c.useContext(g).worker,r=Object(c.useState)(void 0),o=Object(i.a)(r,2),s=o[0],l=o[1];return Object(c.useEffect)((function(){function e(){return(e=Object(h.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,a.recognize(n.current);case 3:c=e.sent,l(null===c||void 0===c||null===(t=c.data)||void 0===t?void 0:t.text);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,a,n]),Object(u.jsx)("div",{className:"textRecognizer",children:s})}var x=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l,{children:Object(u.jsxs)(p,{language:"nor",children:[Object(u.jsx)(O,{}),Object(u.jsx)(d,{})]})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),w()}},[[61,1,2]]]);
//# sourceMappingURL=main.f95f540d.chunk.js.map